---
title: "M08 - Code-along: Palmer Penguins"
output: html_notebook
---

# Penguins!

```{r, setup}
library(tidyverse)
library(palmerpenguins)
data("penguins")
```


```{r, helpers}

# some helper functions

plot_residual_hist <- function(fit){
  tibble(residual = fit$residuals) %>% 
    ggplot(aes(x=residual)) +
    geom_histogram()
}

plot_qq <- function(fit){
  tibble(residual = fit$residuals) %>% 
    ggplot(aes(sample = residual)) + # NOTE: stat_qq* expect a sample aesthetic
    stat_qq() +
    stat_qq_line() +
    labs(x="Theoretical quantile", y = "Observed quantile")
}

plot_residual_predicted <- function(fit){
  tibble(
    predicted = fit$fitted.values,
    residual = fit$residuals
  ) %>% 
    ggplot(aes(x = predicted, y = residual)) +
    geom_point() +
    geom_hline(yintercept = 0)
}
```

# Meet the penguins!

Learn about the dataset at: https://allisonhorst.github.io/palmerpenguins/

```{r}
glimpse(penguins)
```

# Let's predict something!

Let's break the rules and jump right into making a model. We'll make a model of bill lengths from penguin size---do bigger penguins have bigger bills?. 

The model formula will be `bill_length_mm ~ body_mass_g`.

```{r}

```


## Transform a variable

Let's transform the variable to make our coefficient better for interpretation. Then fit the model again.

```{r}

```

And inspect our model's fit via the residuals

```{r}

```


## EDA

Let's do what we should have done first and plot the data.

```{r}

```

## Fit a new model following our EDA

```{r}

```

## Inspect its residuals

```{r}

```

## Inspect residuals of original model

```{r}

```

# Kitchen sink prediction: Let's try throwing everything in

```{r}

```

## Compare with `AIC`

```{r}

```


## Visualize coefficients with help from `broom::tidy()`

When a model has many coefficients, sometimes we prefer to visualize them rather than look at a bunch of numbers. `broom::tidy()` can help organize model coefficients into a tibble.

```{r}
library(broom)
```

