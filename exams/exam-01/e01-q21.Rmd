---
title: '&#32;'
output:
  html_document:
    df_print: paged
editor_options: 
  chunk_output_type: console
---

```{r, include=F, dependson="setup.R"}

library(tidyverse)
library(nycflights13)

set.seed(42)

flights <- flights %>% 
  slice_sample(prop=.35)

```


> Let's say we want to create a new variable that divides the day into four time intervals of:
>
- 12:01am-6am
- 6:01am-12pm
- 12:01pm-6pm
- 6:01pm-12am

> Below is every variable in the data set that is potentially relevant:

| Variable Name | Description            |
|---------------|--------------------|
|   `sched_dep_time`| Scheduled departure time (format HHMM or HMM) |
|   `sched_arr_time`| Scheduled departure time (format HHMM or HMM) |
|   `hour`| Time of scheduled departure, just the hour |
|   `minute`| Time of scheduled departure, just the minutes|
|   `time_hour`| Scheduled date and hour of the flight as a POSIXct date |

```{r, echo=F}
flights %>% select(sched_dep_time, sched_arr_time, hour, minute, time_hour) %>% head()
```

> Given the possible variables, which of the following code chunks helps us meet our data analysis goal of creating a new variable that divides the day into four time intervals?

```{r, eval=F, echo=F}
# Create time of day variable
flights <- flights %>%
  mutate(time_of_day = case_when(
    sched_dep_time >= 001  & sched_dep_time <= 600  ~ "12:01am-6am",
    sched_dep_time >= 601  & sched_dep_time <= 1200 ~ "6:01am-12pm",
    sched_dep_time >= 1201 & sched_dep_time <= 1800 ~ "12:01pm-6pm",
    sched_dep_time >= 1801                          ~ "6:01pm-12am"
  ))
```

A)
```
flights <- flights %>%
  mutate(time_of_day = case_when(
    hour >= 0  & hour <= 6  ~ "12:01am-6am",
    hour > 6 & hour <= 12   ~ "6:01am-12pm",
    hour > 12 & hour <= 6  ~ "12:01pm-6pm",
    hour > 6 & hour <= 12  ~ "6:01pm-12am"
  ))
```

B)
```
flights <- flights %>%
  mutate(time_of_day = case_when(
    sched_dep_time >= 001  & sched_dep_time <= 600  ~ "12:01am-6am",
    sched_dep_time >= 601  & sched_dep_time <= 1200 ~ "6:01am-12pm",
    sched_dep_time >= 1201 & sched_dep_time <= 1800 ~ "12:01pm-6pm",
    sched_dep_time >= 1801                          ~ "6:01pm-12am"
  ))
```

C)
```
flights <- flights %>%
  add_column(time_of_day = if_else(
  time_hour <= 06:00:00, "12:01am-6am",
  time_hour > 06:00:00 & time_hour <= 12:00:00, "6:01am-12pm",
  time_hour > 12:00:00 & time_hour <= 18:00:00, "12:01pm-6pm",
  time_hour > 18:00:00 & time_hour <= 24:00:00, "6:01pm-12am"
))
```

D)   
```
flights <- flights %>%
  mutate(time_of_day = if_else(
    sched_dep_time >= 001  & sched_arr_time <= 600  ~ "12:01am-6am",
    sched_dep_time >= 601  & sched_arr_time <= 1200 ~ "6:01am-12pm",
    sched_dep_time >= 1201 & sched_arr_time <= 1800 ~ "12:01pm-6pm",
    sched_dep_time >= 1801 & sched_arr_time <= 2400 ~ "6:01pm-12am"
  ))
```



